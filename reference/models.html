

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Models &mdash; T-RECS 0.1.0b documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Metrics" href="metrics.html" />
    <link rel="prev" title="Components" href="components.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> T-RECS
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">T-RECS (Tool for RecSys Simulation)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-models.popularity">Popularity Recommender</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.content">Content Filtering Recommender</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.social">Social Filtering Recommender</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.bass">Bass Diffusion Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-models.recommender">BaseRecommender</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.html">Random Generators</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">T-RECS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="reference.html">Reference</a> &raquo;</li>
        
      <li>Models</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/models.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="models">
<h1>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-models.popularity">
<span id="popularity-recommender"></span><h2>Popularity Recommender<a class="headerlink" href="#module-models.popularity" title="Permalink to this headline">¶</a></h2>
<p>Popularity-based recommender system</p>
<dl class="py class">
<dt id="models.popularity.PopularityRecommender">
<em class="property">class </em><code class="sig-prename descclassname">models.popularity.</code><code class="sig-name descname">PopularityRecommender</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_users</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_items</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probabilistic_recommendations</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">num_items_per_iter</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/popularity.html#PopularityRecommender"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.popularity.PopularityRecommender" title="Permalink to this definition">¶</a></dt>
<dd><p>A customizable popularity recommendation system.</p>
<p>With the popularity recommender system, users are presented items that are
popular in the system. The popularity of an item is measured by the number
of times users interacted with that item in the past. In this
implementation, items do not expire and, therefore, the system does not base
its choice on how recent the items are.</p>
<p>Item attributes are represented by a <span class="math notranslate nohighlight">\(1\times|I|\)</span> array, where
<span class="math notranslate nohighlight">\(|I|\)</span> is the number of items in the system. This array stores the
number of user interactions for each item.</p>
<p>User profiles are represented by a <span class="math notranslate nohighlight">\(|U|\times 1\)</span> matrix, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system. All elements of this matrix
are equal to 1, as the predictions of the system are solely based on the
item attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 100</em><em>)</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 1250</em><em>)</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix representing the similarity between
each item and attribute. If this is not None, <cite>num_items</cite> is ignored.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix representing the similarity between
each item and attribute, as interpreted by the system. If this is not
None, <cite>num_users</cite> is ignored.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a> (optional, default: None)) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user
profiles, where <span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real
underlying user profile, or a <cite>Users</cite> object that contains the real
user profiles or real user-item scores. This matrix is <strong>not</strong> used
for recommendations. This is only kept for measurements and the
system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying item profile.
This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, enables verbose mode. Disabled by default.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 10</em><em>)</em>) – Number of items presented to the user per iteration.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> (</em><em>optional</em><em>, </em><em>default: None</em><em>)</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt>
<code class="sig-name descname">Inherited by BaseRecommender</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>PopularityRecommender can be instantiated with no arguments – in which
case, it will be initialized with the default parameters.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span> <span class="o">=</span> <span class="n">PopularityRecommender</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1)   # &lt;-- 100 users (default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 1250) # &lt;-- 1250 items (default)</span>
</pre></div>
</div>
<p>This class can be customized by defining the number of users and/or items
in the system.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span> <span class="o">=</span> <span class="n">PopularityRecommender</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 1) # &lt;-- 1200 users</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 5000)</span>
</pre></div>
</div>
<p>Or by generating representations for items (user representation can
also be defined, but they should always be set to all ones). In the
example below, items are uniformly distributed and have had between 0
and 10 interactions each.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item_representation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span> <span class="o">=</span> <span class="n">PopularityRecommender</span><span class="p">(</span><span class="n">item_representation</span><span class="o">=</span><span class="n">item_representation</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 200)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1)</span>
</pre></div>
</div>
<p>Note that all arguments passed in at initialization must be consistent -
otherwise, an error is thrown. For example, one cannot pass in
<cite>num_users=200</cite> but have <cite>user_representation.shape</cite> be <cite>(300, 1)</cite>.
Likewise, one cannot pass in <cite>num_items=1000</cite> but have
<cite>item_representation.shape</cite> be <cite>(1, 500)</cite>.</p>
<dl class="py method">
<dt id="models.popularity.PopularityRecommender.process_new_items">
<code class="sig-name descname">process_new_items</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_items</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/popularity.html#PopularityRecommender.process_new_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.popularity.PopularityRecommender.process_new_items" title="Permalink to this definition">¶</a></dt>
<dd><p>The popularity of any new items is always zero.</p>
<blockquote>
<div><dl class="simple">
<dt>new_items: numpy.ndarray</dt><dd><p>An array of items that represents new items that are being
added into the system. Should be <span class="math notranslate nohighlight">\(|A|\times|I|\)</span></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-models.content">
<span id="content-filtering-recommender"></span><h2>Content Filtering Recommender<a class="headerlink" href="#module-models.content" title="Permalink to this headline">¶</a></h2>
<p>Content filtering class</p>
<dl class="py class">
<dt id="models.content.ContentFiltering">
<em class="property">class </em><code class="sig-prename descclassname">models.content.</code><code class="sig-name descname">ContentFiltering</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_users</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_items</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_attributes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probabilistic_recommendations</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">num_items_per_iter</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/content.html#ContentFiltering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.content.ContentFiltering" title="Permalink to this definition">¶</a></dt>
<dd><p>A customizable content-filtering recommendation system.</p>
<p>With content filtering, items and users are represented by a set of
attributes A. This class assumes that the attributes used for items and
users are the same. The recommendation system matches users to items with
similar attributes.</p>
<p>Item attributes are represented by a <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|I|\)</span> is the number of items in the system. For each item, we define
the similarity to each attribute.</p>
<p>User profiles are represented by a <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system. For each user, we define
the similarity to each attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 100</em><em>)</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 1250</em><em>)</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>num_attributes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 1000</em><em>)</em>) – The number of attributes <span class="math notranslate nohighlight">\(|A|\)</span> in the system.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix representing the similarity between
each item and attribute, as interpreted by the system.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix representing the similarity between
each item and attribute.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a> (optional, default: None)) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying user profile,
or a <cite>Users</cite> object that contains the real user profiles or real
user-item scores. This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying item profile.
This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, enables verbose mode. Disabled by default.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 10</em><em>)</em>) – Number of items presented to the user per iteration.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> (</em><em>optional</em><em>, </em><em>default: None</em><em>)</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt>
<code class="sig-name descname">Inherited by BaseRecommender</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>ContentFiltering can be instantiated with no arguments – in which case,
it will be initialized with the default parameters and the item/user
representations will be assigned randomly.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1000)   # &lt;-- 100 users (default), 1000 attributes (default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1000, 1250) # &lt;-- 1000 attributes (default), 1250 items (default)</span>
</pre></div>
</div>
<p>This class can be customized either by defining the number of users/items/attributes
in the system.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 1000) # &lt;-- 1200 users, 1000 attributes</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">num_attributes</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 2000) # &lt;-- 1200 users, 2000 attributes</span>
</pre></div>
</div>
<p>Or by generating representations for items and/or users. In the example
below, items are uniformly distributed. We indirectly define 100
attributes by defining the following <cite>item_representation</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="go"># Users are represented by a power law distribution.</span>
<span class="go"># This representation also uses 100 attributes.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">power_dist</span> <span class="o">=</span> <span class="n">Distribution</span><span class="p">(</span><span class="n">distr_type</span><span class="o">=</span><span class="s1">&#39;powerlaw&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">users</span> <span class="o">=</span> <span class="n">power_dist</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">1.16</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">item_representation</span><span class="o">=</span><span class="n">items</span><span class="p">,</span> <span class="n">user_representation</span><span class="o">=</span><span class="n">users</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 200)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(30, 100)</span>
</pre></div>
</div>
<p>Note that all arguments passed in at initialization must be consistent -
otherwise, an error is thrown. For example, one cannot pass in
<cite>num_users=200</cite> but have <cite>user_representation.shape</cite> be <cite>(300, 100)</cite>.
Likewise, one cannot pass in <cite>num_items=1000</cite> but have
<cite>item_representation.shape</cite> be <cite>(100, 500)</cite>.</p>
<dl class="py method">
<dt id="models.content.ContentFiltering.process_new_items">
<code class="sig-name descname">process_new_items</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_items</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/content.html#ContentFiltering.process_new_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.content.ContentFiltering.process_new_items" title="Permalink to this definition">¶</a></dt>
<dd><p>We assume the content filtering system has perfect knowledge
of the new items; therefore, when new items are created,
we simply return the new item attributes.</p>
<blockquote>
<div><dl class="simple">
<dt>new_items: numpy.ndarray</dt><dd><p>An array of items that represents new items that are being
added into the system. Should be <span class="math notranslate nohighlight">\(|A|\times|I|\)</span></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-models.social">
<span id="social-filtering-recommender"></span><h2>Social Filtering Recommender<a class="headerlink" href="#module-models.social" title="Permalink to this headline">¶</a></h2>
<p>Social filtering recommender system, where users get shown items that were
interacted with by users in their social networks</p>
<dl class="py class">
<dt id="models.social.SocialFiltering">
<em class="property">class </em><code class="sig-prename descclassname">models.social.</code><code class="sig-name descname">SocialFiltering</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_users</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_items</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probabilistic_recommendations</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">num_items_per_iter</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/social.html#SocialFiltering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.social.SocialFiltering" title="Permalink to this definition">¶</a></dt>
<dd><p>A customizable social filtering recommendation system.</p>
<p>With social filtering, users are presented items that were previously
liked by other users in their social networks.</p>
<p>The social network is represented by a <span class="math notranslate nohighlight">\(|U|\times|U|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system. For each pair of users
<span class="math notranslate nohighlight">\(u\)</span> and <span class="math notranslate nohighlight">\(v\)</span>, entry <cite>[u,v]</cite> defines whether <span class="math notranslate nohighlight">\(u\)</span>
“follows”/is connected to <span class="math notranslate nohighlight">\(v\)</span>. This can be a binary relationship or a
score that measures how likely <span class="math notranslate nohighlight">\(u\)</span> is to engage with content that
<span class="math notranslate nohighlight">\(v\)</span> has previously interacted with.</p>
<p>Please note that, in this class, the follow/unfollow and
add_friends/remove_friends methods assume a binary social graph
(see <a class="reference internal" href="components.html#components.socialgraph.BinarySocialGraph" title="components.socialgraph.BinarySocialGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">BinarySocialGraph</span></code></a>).</p>
<p>Item attributes are represented by a <span class="math notranslate nohighlight">\(|U|\times|I|\)</span> matrix, where
<span class="math notranslate nohighlight">\(|I|\)</span> is the number of items in the system. For each item <span class="math notranslate nohighlight">\(i\)</span>
and user <span class="math notranslate nohighlight">\(u\)</span>, we define a score that determines the interactions
<span class="math notranslate nohighlight">\(u\)</span> had with <span class="math notranslate nohighlight">\(i\)</span>. Again, this could just be a binary
relationship.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 100</em><em>)</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 1250</em><em>)</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|U|\times|U|\)</span> adjacency matrix representing each users’
social network. If this is not None, <cite>num_users</cite> is ignored.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|U|\times|I|\)</span> matrix representing the past user interactions.
If this is not None, <cite>num_items</cite> is ignored.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a> (optional, default: None)) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user
profiles, where <span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real
underlying user profile, or a <cite>Users</cite> object that contains the real
user profiles or real user-item scores. This matrix is <strong>not</strong> used
for recommendations. This is only kept for measurements and the
system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real item profiles,
where <span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying
item profile. This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, enables verbose mode. Disabled by default.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 10</em><em>)</em>) – Number of items presented to the user per iteration.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> (</em><em>optional</em><em>, </em><em>default: None</em><em>)</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt>
<code class="sig-name descname">Inherited by BaseRecommender</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>SocialFiltering can be instantiated with no arguments – in which case,
it will be initialized with the default parameters and the item/user
representation will be initialized to zero. This means that a user
starts with no followers/users they follow, and that there have been no
previous interactions for this set of users.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">SocialFiltering</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 100)   # &lt;-- 100 users (default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 1250) # &lt;-- 100 users (default), 1250 items (default)</span>
</pre></div>
</div>
<p>This class can be customized either by defining the number of users
and/or items in the system:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">SocialFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="n">num_items</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1200, 5000) # &lt;-- 1200 users, 5000 items</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">ContentFiltering</span><span class="p">(</span><span class="n">num_users</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(50, 1250) # &lt;-- 50 users, 1250 items (default)</span>
</pre></div>
</div>
<p>Or by generating representations for items and/or users. In the example
below, items are uniformly distributed. We “indirectly” define 100 users
by defining a <cite>100x200</cite> item representation.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item_representation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="go"># Social networks are drawn from a binomial distribution.</span>
<span class="go"># This representation also uses 100 users.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span> <span class="o">=</span> <span class="n">SocialFiltering</span><span class="p">(</span><span class="n">item_representation</span><span class="o">=</span><span class="n">item_representation</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 200)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">users_hat</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(100, 100)</span>
</pre></div>
</div>
<p>Note that all arguments passed in at initialization must be consistent -
otherwise, an error is thrown. For example, one cannot pass in
<cite>num_users=200</cite> but have <cite>user_representation.shape</cite> be <cite>(200, 500)</cite> or
<cite>(300, 300)</cite>. Likewise, one cannot pass in <cite>num_items=1000</cite> but have
<cite>item_representation.shape</cite> be <cite>(200, 500)</cite>.</p>
<dl class="py method">
<dt id="models.social.SocialFiltering.process_new_items">
<code class="sig-name descname">process_new_items</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_items</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/social.html#SocialFiltering.process_new_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.social.SocialFiltering.process_new_items" title="Permalink to this definition">¶</a></dt>
<dd><p>We assume the content filtering system has perfect knowledge
of the new items; therefore, when new items are created,
we simply return the new item attributes.</p>
<blockquote>
<div><dl class="simple">
<dt>new_items: numpy.ndarray</dt><dd><p>An array of items that represents new items that are being
added into the system. Should be <span class="math notranslate nohighlight">\(|A|\times|I|\)</span></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-models.bass">
<span id="bass-diffusion-model"></span><h2>Bass Diffusion Model<a class="headerlink" href="#module-models.bass" title="Permalink to this headline">¶</a></h2>
<p>Bass Model for modeling the spread of infection. This can be applied to studying
virality in online communications.</p>
<dl class="py class">
<dt id="models.bass.BassModel">
<em class="property">class </em><code class="sig-prename descclassname">models.bass.</code><code class="sig-name descname">BassModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_users</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_items</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">infection_state</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">infection_thresholds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_user_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_item_representation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probabilistic_recommendations</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">num_items_per_iter</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.BassModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bass model that, for now, only supports one item at a time.</p>
<p>In this model, individuals are “infected” by an item, and then
infect their susceptible (i.e., not yet “infected”) contacts independently
with a given infection probability. Contacts between users are modeled
with an adjacency graph that is <span class="math notranslate nohighlight">\(|U|\times|U|\)</span>. The model
stores state about which users are infected with <span class="math notranslate nohighlight">\(|U|\times|I|\)</span>
matrix, where <span class="math notranslate nohighlight">\(|I|\)</span> is the number of items (currently, this is
always equal to 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 100</em><em>)</em>) – The number of users <span class="math notranslate nohighlight">\(|U|\)</span> in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 1250</em><em>)</em>) – The number of items <span class="math notranslate nohighlight">\(|I|\)</span> in the system.</p></li>
<li><p><strong>infection_state</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – Component that tracks infection state, which is a binary (0/1) array with
an element recording whether each user is infected. Should be of
dimension <span class="math notranslate nohighlight">\(|U|\times|I|\)</span>.</p></li>
<li><p><strong>infection_thresholds</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – Component that tracks infection thresholds for each user. Should be of
dimension <span class="math notranslate nohighlight">\(1\times|U|\)</span>.</p></li>
<li><p><strong>user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|U|\times|A|\)</span> matrix representing the similarity between
each item and attribute, as interpreted by the system.</p></li>
<li><p><strong>item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|A|\times|I|\)</span> matrix representing the similarity between
each item and attribute.</p></li>
<li><p><strong>actual_user_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None or                             <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a> (optional, default: None)) – Either a <span class="math notranslate nohighlight">\(|U|\times|T|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying user profile,
or a <cite>Users</cite> object that contains the real user profiles or real
user-item scores. This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>actual_item_representation</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A <span class="math notranslate nohighlight">\(|T|\times|I|\)</span> matrix representing the real user profiles, where
<span class="math notranslate nohighlight">\(T\)</span> is the number of attributes in the real underlying item profile.
This matrix is <strong>not</strong> used for recommendations. This
is only kept for measurements and the system is unaware of it.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, enables verbose mode. Disabled by default.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 10</em><em>)</em>) – Number of items presented to the user per iteration.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> (</em><em>optional</em><em>, </em><em>default: None</em><em>)</em>) – Seed for random generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt>
<code class="sig-name descname">Inherited by BaseRecommender</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#models.recommender.BaseRecommender" title="models.recommender.BaseRecommender"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRecommender</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.bass.BassModel.draw_diffusion_tree">
<code class="sig-name descname">draw_diffusion_tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.draw_diffusion_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.BassModel.draw_diffusion_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw diffusion tree using matplotlib</p>
</dd></dl>

<dl class="py method">
<dt id="models.bass.BassModel.get_structural_virality">
<code class="sig-name descname">get_structural_virality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.get_structural_virality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.BassModel.get_structural_virality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of the structural virality metric</p>
</dd></dl>

<dl class="py method">
<dt id="models.bass.BassModel.infection_probabilities">
<code class="sig-name descname">infection_probabilities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user_profiles</span></em>, <em class="sig-param"><span class="n">item_attributes</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.infection_probabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.BassModel.infection_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the infection probabilities for each user at the current
timestep
Args:</p>
<dl class="simple">
<dt>user_profiles: <code class="xref py py-obj docutils literal notranslate"><span class="pre">array_like</span></code></dt><dd><p>First factor of the dot product, which should provide a
representation of users.</p>
</dd>
<dt>item_attributes: <code class="xref py py-obj docutils literal notranslate"><span class="pre">array_like</span></code></dt><dd><p>Second factor of the dot product, which should provide a
representation of items.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.bass.BassModel.initialize_user_scores">
<code class="sig-name descname">initialize_user_scores</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.initialize_user_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.BassModel.initialize_user_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>If the Users object does not already have known user-item scores,
then we calculate these scores.</p>
</dd></dl>

<dl class="py method">
<dt id="models.bass.BassModel.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timesteps</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">startup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">train_between_steps</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">repeated_items</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#BassModel.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.BassModel.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides run method of parent class <code class="xref py py-class docutils literal notranslate"><span class="pre">Recommender</span></code>, so that
repeated_items defaults to True in Bass models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) – number of timesteps for simulation</p></li>
<li><p><strong>startup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – if True, it runs the simulation in
startup mode (see recommend() and startup_and_train())</p></li>
<li><p><strong>train_between_steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – if True, the model is
retrained after each step with the information gathered
in the previous step.</p></li>
<li><p><strong>repeated_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – if True, repeated items are allowed
in the system – that is, users can interact with the same
item more than once. Examples of common instances in which
this is useful: infection and network propagation models.
Default is False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="models.bass.InfectionState">
<em class="property">class </em><code class="sig-prename descclassname">models.bass.</code><code class="sig-name descname">InfectionState</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_array</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#InfectionState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.InfectionState" title="Permalink to this definition">¶</a></dt>
<dd><p>Component that tracks infection state, which is a binary array with
an element recording whether each user is infected</p>
</dd></dl>

<dl class="py class">
<dt id="models.bass.InfectionThresholds">
<em class="property">class </em><code class="sig-prename descclassname">models.bass.</code><code class="sig-name descname">InfectionThresholds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_array</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/bass.html#InfectionThresholds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.bass.InfectionThresholds" title="Permalink to this definition">¶</a></dt>
<dd><p>Component that tracks infection thresholds, where each user has their own
threshold for infection</p>
</dd></dl>

</div>
<div class="section" id="module-models.recommender">
<span id="baserecommender"></span><h2>BaseRecommender<a class="headerlink" href="#module-models.recommender" title="Permalink to this headline">¶</a></h2>
<p>BaseRecommender, the foundational class for all recommender systems
implementable in our simulation library</p>
<dl class="py class">
<dt id="models.recommender.BaseRecommender">
<em class="property">class </em><code class="sig-prename descclassname">models.recommender.</code><code class="sig-name descname">BaseRecommender</code><span class="sig-paren">(</span><em class="sig-param">users_hat</em>, <em class="sig-param">items_hat</em>, <em class="sig-param">users</em>, <em class="sig-param">items</em>, <em class="sig-param">num_users</em>, <em class="sig-param">num_items</em>, <em class="sig-param">num_items_per_iter</em>, <em class="sig-param">creators=None</em>, <em class="sig-param">probabilistic_recommendations=False</em>, <em class="sig-param">measurements=None</em>, <em class="sig-param">record_base_state=False</em>, <em class="sig-param">system_state=None</em>, <em class="sig-param">score_fn=&lt;function inner_product&gt;</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class representing a recommender system.</p>
<p>The attributes and methods in this class can be generalized beyond
recommender systems and are currently common to all pre-loaded models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>users_hat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array representing users. The shape and meaning depends on
the implementation of the concrete class.</p></li>
<li><p><strong>items_hat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>) – An array representing items. The shape and meaning depends on
the implementation of the concrete class.</p></li>
<li><p><strong>users</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a>) – An array representing real user preferences unknown to the
system. Shape is <span class="math notranslate nohighlight">\(|U| \times |A|\)</span>, where <span class="math notranslate nohighlight">\(|A|\)</span> is the
number of attributes and <span class="math notranslate nohighlight">\(|U|\)</span> is the number of users. When
a <cite>numpy.ndarray</cite> is passed in, we assume this represents the user
<em>scores</em>, not the users’ actual attribute vectors.</p></li>
<li><p><strong>items</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or <a class="reference internal" href="components.html#components.items.Items" title="components.items.Items"><code class="xref py py-class docutils literal notranslate"><span class="pre">Items</span></code></a>) – An array representing real item attributes unknown to the
system. Shape is <span class="math notranslate nohighlight">\(|A|\times|I|\)</span>, where <span class="math notranslate nohighlight">\(|I|\)</span> is the
number of items and <span class="math notranslate nohighlight">\(|A|\)</span> is the number of attributes.</p></li>
<li><p><strong>num_users</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The number of users in the system.</p></li>
<li><p><strong>num_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The number of items in the system.</p></li>
<li><p><strong>num_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Number of items presented to the user at each iteration.</p></li>
<li><p><strong>measurements</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of metrics to monitor.</p></li>
<li><p><strong>record_base_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, the system will record at each time step its internal
representation of users profiles and item profiles, as well as the
true user profiles and item profiles. It will also record the
predicted user-item scores at each time step.</p></li>
<li><p><strong>system_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of system state components to monitor.</p></li>
<li><p><strong>score_fn</strong> (<em>callable</em>) – Function that is used to calculate each user’s predicted scores for
each candidate item. The score function should take as input
user_profiles and item_attributes.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, it enables verbose mode.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> (</em><em>optional</em><em>, </em><em>default: None</em><em>)</em>) – Seed for random generator used</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.users_hat">
<code class="sig-name descname">users_hat</code><a class="headerlink" href="#models.recommender.BaseRecommender.users_hat" title="Permalink to this definition">¶</a></dt>
<dd><p>An array representing users, matching user_representation. The
shape and meaning depends on the implementation of the concrete
class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.users.PredictedUserProfiles" title="components.users.PredictedUserProfiles"><code class="xref py py-class docutils literal notranslate"><span class="pre">PredictedUserProfiles</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.items_hat">
<code class="sig-name descname">items_hat</code><a class="headerlink" href="#models.recommender.BaseRecommender.items_hat" title="Permalink to this definition">¶</a></dt>
<dd><p>An array representing items, matching item_representation. The
shape and meaning depends on the implementation of the concrete
class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.items.Items" title="components.items.Items"><code class="xref py py-class docutils literal notranslate"><span class="pre">Items</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.users">
<code class="sig-name descname">users</code><a class="headerlink" href="#models.recommender.BaseRecommender.users" title="Permalink to this definition">¶</a></dt>
<dd><p>An array representing real user preferences. Shape should be
<span class="math notranslate nohighlight">\(|U| \times |A|\)</span>, and should match items.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.users.Users" title="components.users.Users"><code class="xref py py-class docutils literal notranslate"><span class="pre">Users</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.items">
<code class="sig-name descname">items</code><a class="headerlink" href="#models.recommender.BaseRecommender.items" title="Permalink to this definition">¶</a></dt>
<dd><p>An array representing actual item attributes. Shape should be
<span class="math notranslate nohighlight">\(|A| \times |I|\)</span>, and should match users.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.items.Items" title="components.items.Items"><code class="xref py py-class docutils literal notranslate"><span class="pre">Items</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.predicted_scores">
<code class="sig-name descname">predicted_scores</code><a class="headerlink" href="#models.recommender.BaseRecommender.predicted_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>An array representing the user preferences as perceived by the
system. The shape is always <span class="math notranslate nohighlight">\(|U| \times |I|\)</span>, where
<span class="math notranslate nohighlight">\(|U|\)</span> is the number of users in the system and <span class="math notranslate nohighlight">\(|I|\)</span>
is the number of items in the system. The scores are calculated with
the dot product of <a class="reference internal" href="#models.recommender.BaseRecommender.users_hat" title="models.recommender.BaseRecommender.users_hat"><code class="xref py py-attr docutils literal notranslate"><span class="pre">users_hat</span></code></a> and <a class="reference internal" href="#models.recommender.BaseRecommender.items_hat" title="models.recommender.BaseRecommender.items_hat"><code class="xref py py-attr docutils literal notranslate"><span class="pre">items_hat</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="components.html#components.users.PredictedScores" title="components.users.PredictedScores"><code class="xref py py-class docutils literal notranslate"><span class="pre">PredictedScores</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.num_users">
<code class="sig-name descname">num_users</code><a class="headerlink" href="#models.recommender.BaseRecommender.num_users" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of users in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.num_items">
<code class="sig-name descname">num_items</code><a class="headerlink" href="#models.recommender.BaseRecommender.num_items" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of items in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.num_items_per_iter">
<code class="sig-name descname">num_items_per_iter</code><a class="headerlink" href="#models.recommender.BaseRecommender.num_items_per_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of items presented to the user per iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.probabilistic_recommendations">
<code class="sig-name descname">probabilistic_recommendations</code><a class="headerlink" href="#models.recommender.BaseRecommender.probabilistic_recommendations" title="Permalink to this definition">¶</a></dt>
<dd><p>When this flag is set to <cite>True</cite>, the recommendations (excluding
any random interleaving) will be randomized, meaning that items
will be recommended with a probability proportionate to their
predicted score, rather than the top <cite>k</cite> items, as ranked by their
predicted score, being recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a> (optional, default: False)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.random_state">
<code class="sig-name descname">random_state</code><a class="headerlink" href="#models.recommender.BaseRecommender.random_state" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="random.html#trecs.random.generators.Generator" title="trecs.random.generators.Generator"><code class="xref py py-class docutils literal notranslate"><span class="pre">trecs.random.generators.Generator</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.indices">
<code class="sig-name descname">indices</code><a class="headerlink" href="#models.recommender.BaseRecommender.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>A <span class="math notranslate nohighlight">\(|U| \times |I|\)</span> array representing the past interactions of each
user. This keeps track of which items each user has interacted
with, so that it won’t be presented to the user again if
<cite>repeated_items</cite> are not allowed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="models.recommender.BaseRecommender.score_fn">
<code class="sig-name descname">score_fn</code><a class="headerlink" href="#models.recommender.BaseRecommender.score_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that is used to calculate each user’s predicted scores for
each candidate item. The score function should take as input
user_profiles and item_attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.add_new_item_indices">
<code class="sig-name descname">add_new_item_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_new_items</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.add_new_item_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.add_new_item_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands the indices matrix to include entries for new items that
were created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>int</strong><strong>)</strong> (<em>num_new_items</em>) – </p></li>
<li><p><strong>this iteration</strong> (<em>in</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.create_and_process_items">
<code class="sig-name descname">create_and_process_items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.create_and_process_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.create_and_process_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and processes items made by content creators</p>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.generate_recommendations">
<code class="sig-name descname">generate_recommendations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">item_indices</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.generate_recommendations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.generate_recommendations" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate recommendations for each user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 1</em><em>)</em>) – Number of items to recommend.</p></li>
<li><p><strong>item_indices</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> or None (optional, default: None)) – A matrix containing the indices of the items each user has not yet
interacted with. It is used to ensure that the user is presented
with items they have not already interacted with. If <cite>None</cite>,
then the user may be recommended items that they have already
interacted with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Recommendations</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.get_measurements">
<code class="sig-name descname">get_measurements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.get_measurements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.get_measurements" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all available measurements. For more details, please see the
<a class="reference internal" href="metrics.html#metrics.measurement.Measurement" title="metrics.measurement.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Measurement</span></code></a> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Monitored measurements</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.get_system_state">
<code class="sig-name descname">get_system_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.get_system_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.get_system_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Return history of system state components stored in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">state_history</span></code> of the
components stored in <a class="reference internal" href="components.html#components.base_components.SystemStateModule._system_state" title="components.base_components.SystemStateModule._system_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SystemStateModule._system_state</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>System state</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.initialize_user_scores">
<code class="sig-name descname">initialize_user_scores</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.initialize_user_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.initialize_user_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>If the Users object does not already have known user-item scores,
then we calculate these scores.</p>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.measure_content">
<code class="sig-name descname">measure_content</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interactions</span></em>, <em class="sig-param"><span class="n">items_shown</span></em>, <em class="sig-param"><span class="n">step</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.measure_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.measure_content" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: UPDATE DOCUMENTATION
Calls method in the <code class="xref py py-class docutils literal notranslate"><span class="pre">Measurements</span></code> module to record metrics.
For more details, see the <code class="xref py py-class docutils literal notranslate"><span class="pre">Measurements</span></code> class and its measure
method.</p>
<p>:param interactions (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>): per users at a given time step.
:type interactions (<code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>): matrix of interactions
:param step (int):
:type step (int): step on which the recorded interactions refers to.</p>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.process_new_items">
<code class="sig-name descname">process_new_items</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_items</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.process_new_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.process_new_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new item representations based on items that were just created.</p>
<p>Must be defined in the concrete class.</p>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.recommend">
<code class="sig-name descname">recommend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">startup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">random_items_per_iter</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">vary_random_items_per_iter</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">repeated_items</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.recommend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.recommend" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the recommendation process by combining recommendations and
new (random) items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>startup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, the system is in “startup”  (exploration) mode and
only presents the user with new randomly chosen items. This is
done to maximize exploration.</p></li>
<li><p><strong>random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 0</em><em>)</em>) – Number of per-user item recommendations that should be
randomly generated. Passing in <cite>1.0</cite> will result in all
recommendations being randomly generated, while passing in <cite>0.0</cite>
will result in all recommendations coming from predicted score.</p></li>
<li><p><strong>vary_random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If true, then at each timestep, the # of items that are recommended
randomly is itself randomly generated between 0 and
<cite>random_items_per_iter</cite>, inclusive.</p></li>
<li><p><strong>repeated_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: True</em><em>)</em>) – If True, repeated items are allowed in the system – that is,
users can interact with the same item more than once.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Items</strong> – New and recommended items in random order.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timesteps</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">startup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">train_between_steps</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">random_items_per_iter</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">vary_random_items_per_iter</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">repeated_items</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">no_new_items</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs simulation for the given timesteps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 50</em><em>)</em>) – Number of timesteps for simulation.</p></li>
<li><p><strong>startup</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, it runs the simulation in startup mode (see
<a class="reference internal" href="#models.recommender.BaseRecommender.recommend" title="models.recommender.BaseRecommender.recommend"><code class="xref py py-func docutils literal notranslate"><span class="pre">recommend()</span></code></a> and <a class="reference internal" href="#models.recommender.BaseRecommender.startup_and_train" title="models.recommender.BaseRecommender.startup_and_train"><code class="xref py py-func docutils literal notranslate"><span class="pre">startup_and_train()</span></code></a>)</p></li>
<li><p><strong>train_between_steps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: True</em><em>)</em>) – If True, the model is retrained after each timestep with the
information gathered in the previous step.</p></li>
<li><p><strong>random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> (</em><em>optional</em><em>, </em><em>default: 0</em><em>)</em>) – Percentage of per-user item recommendations that should be
randomly generated. Passing in <cite>1.0</cite> will result in all
recommendations being randomly generated, while passing in <cite>0.0</cite>
will result in all recommendations coming from predicted score.</p></li>
<li><p><strong>vary_random_items_per_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If true, then at each timestep, the # of items that are recommended
randomly is itself randomly generated between 0 and
<cite>random_items_per_iter</cite>, inclusive.</p></li>
<li><p><strong>repeated_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: True</em><em>)</em>) – If True, repeated items are allowed in the system – that is,
users can interact with the same item more than once.</p></li>
<li><p><strong>no_new_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, then no new items are created during these timesteps. This
can be helpful, say, during a “training” period where no new items should be
made.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.startup_and_train">
<code class="sig-name descname">startup_and_train</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timesteps</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">no_new_items</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.startup_and_train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.startup_and_train" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs simulation in startup mode by calling <a class="reference internal" href="#models.recommender.BaseRecommender.run" title="models.recommender.BaseRecommender.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> with
startup=True. For more information about startup mode, see <a class="reference internal" href="#models.recommender.BaseRecommender.run" title="models.recommender.BaseRecommender.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>
and <a class="reference internal" href="#models.recommender.BaseRecommender.recommend" title="models.recommender.BaseRecommender.recommend"><code class="xref py py-func docutils literal notranslate"><span class="pre">recommend()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timesteps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default: 50</em><em>)</em>) – Number of timesteps for simulation</p></li>
<li><p><strong>no_new_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> (</em><em>optional</em><em>, </em><em>default: False</em><em>)</em>) – If True, then no new items are created during these timesteps. This
can be helpful, say, during a “training” period where no new items should be
made.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="models.recommender.BaseRecommender.train">
<code class="sig-name descname">train</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/models/recommender.html#BaseRecommender.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#models.recommender.BaseRecommender.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates scores predicted by the system based on the internal state of the
recommender system. Under default initialization, it updates
<a class="reference internal" href="#models.recommender.BaseRecommender.predicted_scores" title="models.recommender.BaseRecommender.predicted_scores"><code class="xref py py-attr docutils literal notranslate"><span class="pre">predicted_scores</span></code></a> with a dot product of user and item attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>predicted_scores</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="components.html#components.users.PredictedScores" title="components.users.PredictedScores"><code class="xref py py-class docutils literal notranslate"><span class="pre">PredictedScores</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="metrics.html" class="btn btn-neutral float-right" title="Metrics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="components.html" class="btn btn-neutral float-left" title="Components" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Elena Lucherini.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>